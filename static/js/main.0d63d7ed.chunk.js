(this.webpackJsonpstatus=this.webpackJsonpstatus||[]).push([[0],{10:function(e,t,n){"use strict";function a(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return fetch.apply(void 0,[e].concat(n)).then((function(e){return e.json()}))}n.d(t,"a",(function(){return a}))},112:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=[{owner:"0x75e1d32289679dfcB2F01fBc0e043B3d7F9Cd443",domain:"interconnected.online"},{owner:"0xFE95E04A628087FCdD5f278E61F148B47471Af4A",domain:"peer.decentraland.org"},{owner:"0x6327Ef6bAE918584B86AcfD58bDEB6EF9211e371",domain:"peer.melonwave.com"},{owner:"0xF78Dfd2a940c1c204d9eb5D1fF7988b7AEC3F01a",domain:"peer.kyllian.me"},{owner:"0xa7C825BB8c2C4d18288af8efe38c8Bf75A1AAB51",domain:"peer.decentral.games"},{owner:"0x3f95F857F89357fb1592C74dEd1f4556c6272edB",domain:"peer.uadevops.com"},{owner:"0x3d7C732f54f7D60d14eabca8A7Da3097cEc3AF1e",domain:"peer.dclnodes.io"},{owner:"0xEfc549434A03756F6e37A43757a2927605D8839B",domain:"peer-eu1.decentraland.org"},{owner:"0xe5d0c3fEA1e5F01CA4098e9580B93B3b5d0Ea768",domain:"peer-ec1.decentraland.org"},{owner:"0x4eAC6325e1DBF1Ac90434d39766e164Dca71139E",domain:"peer-wc1.decentraland.org"},{owner:"0x52D4d46E28dc72b1CEf2Cb8eb5eC75Dd12BC4dF3",domain:"decentraland.org.cn"}]},20:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a="interconnected.online"},257:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return I}));var a=n(5),r=n.n(a),c=n(15),l=n(29),o=n(258),i=n(0),u=n.n(i),s=n(11),m=n(88),d=n.n(m),f=n(264),p=n(14),E=n(82),v=n(60),h=n(8),b=n(10),y=n(112),g=n(89),w=n(20),j=n(265);function O(e){var t=window.localStorage.getItem(e);return t?JSON.parse(t):null}function S(e,t){return window.localStorage.setItem(e,JSON.stringify(t))}function C(){var t,n=window.localStorage.getItem("dcl-crypto-ephemeral");if(n)t=Object(v.fromPrivate)(e.from(n,"hex"));else{var a=new e(32),r=window.crypto.getRandomValues(a);t=Object(v.create)(r),window.localStorage.setItem("dcl-crypto-ephemeral",t.privateKey.toString("hex"))}return{address:t.address,privateKey:t.privateKey.toString("hex"),publicKey:t.publicKey.toString("hex")}}function k(e,t){return x.apply(this,arguments)}function x(){return(x=Object(l.a)(r.a.mark((function e(t,n){var a,c,l,i,u,s,m,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=E.Eth.fromCurrentProvider(),e.next=3,a.getAccounts();case 3:if(c=e.sent,l=c[0],(i=O("dcl-crypto-chain-"+l))&&!(new Date(i.expiration).getTime()<(new Date).getTime())){e.next=18;break}return u=f.Account.create(),s={address:u.address.toString(),publicKey:Object(h.bufferToHex)(u.publicKey),privateKey:Object(h.bufferToHex)(u.privateKey)},26784e5,m=Number(26784e5),e.next=13,o.Authenticator.initializeAuthChain(l.toString(),s,m,(function(e){return new d.a(t).eth.personal.sign(e,l.toString(),"")}));case 13:return p=e.sent,S("dcl-crypto-chain-"+l,p),e.abrupt("return",p);case 18:return e.abrupt("return",i);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return D.apply(this,arguments)}function D(){return(D=Object(l.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=C(),e.abrupt("return",k(t,n));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t,n){return function(n){var a=document.getElementById("deny-"+e).value,r=(new Date).getTime(),c="".concat(e,"-").concat(a)+r,l=t.selectedAddress;return new d.a(t).eth.personal.sign(c,l,"").then((function(t){fetch("".concat(g.a,"denylist/").concat(e,"/").concat(a),{method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify({blocker:p.Address.fromString(l).toString(),timestamp:r,signature:t})}).then((function(e){console.log(e,r,t)})).catch((function(e){console.log(e)}))})),n.preventDefault(),!1}}function I(){var e=Object(s.a)(g.a+"denylist",b.a).data,t=Object(i.useState)(null),n=Object(c.a)(t,2),a=n[0],o=n[1],m=Object(i.useState)(null),d=Object(c.a)(m,2),f=(d[0],d[1]),p=Object(i.useCallback)((function(e){return Object(j.a)().then(function(){var e=Object(l.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(t),e.t0=f,e.next=4,A(t);case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.preventDefault(),!1}),[]),E=y.a.filter((function(e){return e.domain===w.a}))[0].owner.toString();return u.a.createElement("div",null,u.a.createElement("h3",null,"Denylist Management"),u.a.createElement("h4",null,"Catalyst Owner: ",E),u.a.createElement("h4",null,"Current Deny List"),e&&e.length?u.a.createElement("ul",null,e.map((function(e){return e.target})).map((function(e){return u.a.createElement("li",null,e.type,": ",e.id)}))):u.a.createElement("h5",null,"Empty"),a?a.selectedAddress.toLowerCase()===E.toLowerCase()?u.a.createElement(u.a.Fragment,null,u.a.createElement("h5",null,"Deny by deployer address"),u.a.createElement("form",{onSubmit:N("address",a)},u.a.createElement("input",{className:"input-denylist",name:"address",id:"deny-address"}),u.a.createElement("button",{type:"submit"},"Submit")),u.a.createElement("h5",null,"Deny by content hash"),u.a.createElement("form",{onSubmit:N("content",a)},u.a.createElement("input",{className:"input-denylist",name:"content",id:"deny-content"}),u.a.createElement("button",{type:"submit"},"Submit")),u.a.createElement("h5",null,"Deny by entity id"),u.a.createElement("form",{onSubmit:N("entity",a)},u.a.createElement("input",{className:"input-denylist",name:"entity",id:"deny-entity"}),u.a.createElement("button",{type:"submit"},"Submit")),u.a.createElement("h5",null,"Deny by parcel coordinate"),u.a.createElement("form",{onSubmit:N("pointer",a)},u.a.createElement("input",{className:"input-denylist",name:"pointer",id:"deny-pointer"}),u.a.createElement("button",{type:"submit"},"Submit"))):u.a.createElement(u.a.Fragment,null,u.a.createElement("h4",null,"Log in as the catalyst owner to access the denylist"),u.a.createElement("h5",null,"The current address is ",a.selectedAddress)):u.a.createElement(u.a.Fragment,null,u.a.createElement("h4",null,"Login to manage the denylists"),u.a.createElement("form",{onSubmit:p},u.a.createElement("button",{type:"submit"},"Connect"))))}}).call(this,n(1).Buffer)},265:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n(5),r=n.n(a),c=n(29),l=n(262),o=n.n(l),i=n(88),u=n.n(i),s=n(263),m=n.n(s);function d(e){return f.apply(this,arguments)}function f(){return(f=Object(c.a)(r.a.mark((function e(t){var n,a,c,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new u.a(t),e.next=3,n.eth.getChainId();case 3:return a=e.sent,e.next=6,m.a.getChain(a);case 6:return c=e.sent,e.next=9,n.eth.getAccounts();case 9:return l=e.sent,e.abrupt("return",{selectedAccount:l[0],chainData:c,chainId:a});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=n(582),E=new o.a({network:"mainnet",providerOptions:{walletconnect:{package:p,options:{infuraId:"6ce1ac70b1af451d9c81c2d60453e3c3"}}}});function v(){return h.apply(this,arguments)}function h(){return(h=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.connect();case 3:return(t=e.sent).on("accountsChanged",(function(){d(t)})),t.on("chainChanged",(function(){d(t)})),t.on("networkChanged",(function(){d(t)})),e.abrupt("return",t);case 10:return e.prev=10,e.t0=e.catch(0),console.log("Could not get a wallet connection",e.t0),e.abrupt("return");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}},266:function(e,t,n){e.exports=n(267)},267:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(255),l=n.n(c),o=(n(272),n(89));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.b,null)),document.getElementById("root"))},272:function(e,t,n){},282:function(e,t,n){},294:function(e,t){},296:function(e,t){},308:function(e,t){},310:function(e,t){},89:function(e,t,n){"use strict";n.d(t,"a",(function(){return G}));var a=n(15),r=n(51),c=n(109),l=n(0),o=n.n(l),i=n(11);function u(e){var t=e.error;return t?o.a.createElement("div",null,o.a.createElement("h2",null,"Error!"),o.a.createElement("pre",null,t.message,": ",o.a.createElement("br",null),t.stack)):o.a.createElement("div",null)}var s=n(10);function m(){return o.a.createElement("div",null,"Loading...")}var d=n(20);function f(e){return e.userInfo&&e.userInfo.length&&e.userInfo[0].metadata&&e.userInfo[0].metadata.avatars&&e.userInfo[0].metadata.avatars.length&&e.userInfo[0].metadata.avatars[0].avatar&&e.userInfo[0].metadata.avatars[0].avatar.snapshots&&e.userInfo[0].metadata.avatars[0].avatar.snapshots.face?o.a.createElement("div",null,o.a.createElement("img",{width:50,alt:"User avatar",src:e.contentServer+"contents/"+e.userInfo[0].metadata.avatars[0].avatar.snapshots.face}),"\xa0",e.userInfo[0].metadata.avatars[0].name,"\xa0 (",e.position?o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://play.decentraland.org/?position=".concat(e.position.join(","),"&realm=").concat(e.serverName,"-").concat(e.layer)},e.position[0],", ",e.position[1]):"unknown position",")"):e.position&&e.position.length?o.a.createElement("div",null,o.a.createElement("img",{width:50,alt:"Default avatar",src:e.contentServer+"contents/QmeLTsRbiPpgW5ir1q1Ny3dG5znDGRSvWZCBuMgkxV7us9"}),"\xa0",g(e.address),"\xa0 (",o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://play.decentraland.org/?position=".concat(e.position.join(","),"&realm=").concat(e.serverName,"-").concat(e.layer)},e.position[0],", ",e.position[1]),")"):o.a.createElement("div",null,o.a.createElement("img",{width:50,alt:"Default avatar",src:e.contentServer+"contents/QmeLTsRbiPpgW5ir1q1Ny3dG5znDGRSvWZCBuMgkxV7us9"}))}var p="https://"+d.a+"/comms/",E="https://"+d.a+"/content/";function v(e){var t=Object(i.a)(p+"layers/"+e.layer+"/rooms/"+e.address,s.a).data,n=Object(i.a)(E+"entities/profile?pointer="+e.address,s.a).data;if(!t||!t.length)return o.a.createElement(m,null);var a=t[0];return o.a.createElement("div",null,o.a.createElement(f,{address:e.address,userInfo:n,contentServer:E,position:a.parcel,layer:e.layer,serverName:e.serverName}))}var h="https://"+d.a+"/comms/";function b(e){var t=Object(i.a)(h+"layers/"+e.name+"/rooms",s.a).data,n=t&&t.filter(y);return o.a.createElement("div",null,o.a.createElement("h4",null,o.a.createElement("strong",null,e.name,":")," ",e.usersCount," user",1===e.usersCount?"":"s"),n&&n.map((function(t){return o.a.createElement(v,{key:t,address:t,serverName:e.serverName,layer:e.name})})))}var y=function(e){return e.startsWith("0x")},g=function(e){return[e.substr(0,6),e.substr(-4)].join("...")},w="https://".concat(d.a,"/comms/");function j(){var e=Object(i.a)(w+"status",s.a),t=e.data,n=e.error,a=Object(i.a)(w+"layers",s.a),r=a.data,c=a.error,l=r?r.filter((function(e){return e.usersCount>0})):[];return l?o.a.createElement("div",null,o.a.createElement("h3",null,"Comms"," ",t&&o.a.createElement("span",null,"(",l.length," layer",1!==l.length?"s":""," with users)")," "),t&&o.a.createElement(o.a.Fragment,null,l.map((function(e){return o.a.createElement(b,Object.assign({},e,{key:e.name,serverName:t.name,layerName:e.name}))}))),o.a.createElement(u,{error:c}),o.a.createElement(u,{error:n})):o.a.createElement(m,null)}function O(e){var t=e.object;return o.a.createElement("ul",null,t&&Object.keys(t).map((function(e){return o.a.createElement("li",{key:e},e,": ",o.a.createElement("strong",null,"object"===typeof t[e]?"object":t[e]))})))}function S(){var e=Object(i.a)("https://"+d.a+"/content/status",s.a),t=e.data,n=e.error,a=Object(i.a)("https://"+d.a+"/comms/status",s.a),r=a.data,c=a.error,l=Object(i.a)("https://"+d.a+"/lambdas/status",s.a),m=l.data,f=l.error;return o.a.createElement("div",null,o.a.createElement("h2",null,"Server status"),o.a.createElement("h3",null,"Content"),t&&o.a.createElement(O,{object:t}),o.a.createElement("h3",null,"Comms"),r&&o.a.createElement(O,{object:r}),o.a.createElement("h3",null,"Lambdas"),m&&o.a.createElement(O,{object:m}),n&&o.a.createElement(u,{error:n}),c&&o.a.createElement(u,{error:c}),f&&o.a.createElement(u,{error:f}))}var C=n(110),k=n.n(C);function x(e){var t=e.profile.metadata.avatars[0];return o.a.createElement("div",null,o.a.createElement("img",{width:50,alt:"User avatar",src:G+"contents/"+t.avatar.snapshots.face}),o.a.createElement("strong",null,t.name||g(e.profile.id)),": updated ",k()(e.profile.timestamp).fromNow()," ",o.a.createElement("br",null))}function A(e){var t=Object(i.a)(G+"entities/profiles?id="+e.profiles.join("&id="),s.a),n=t.data,a=t.error;return o.a.createElement("div",null,o.a.createElement("h3",null,"Last Submitted Profiles"),n&&n.map((function(e){return o.a.createElement(x,{profile:e})})),a&&o.a.createElement(u,{error:a}))}function D(){var e=Object(i.a)(G+"history",s.a).data;return o.a.createElement("div",null,e&&o.a.createElement(A,{profiles:e.events.filter((function(e){return"profile"===e.entityType})).slice(0,10).map((function(e){return e.entityId}))}))}function N(e){return o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"".concat(G,"contents/").concat(e.hash)},e.hash)}function I(e){return o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://play.decentraland.org/?position=".concat(e.coordinate)},e.coordinate)}function B(e){var t,n,a,r,c,l,i,u=(null===(t=e.scene)||void 0===t||null===(n=t.metadata)||void 0===n||null===(a=n.display)||void 0===a?void 0:a.title)||"Untitled scene",s=null===(r=e.scene)||void 0===r?void 0:r.pointers.length;return o.a.createElement("div",null,o.a.createElement("p",null,o.a.createElement("strong",null,u)," (",s," parcel",1===s?"":"s",", base: ",o.a.createElement(I,{coordinate:null===(c=e.scene)||void 0===c||null===(l=c.metadata)||void 0===l||null===(i=l.scene)||void 0===i?void 0:i.base}),")",o.a.createElement("br",null),"Deployed ",k()(e.scene.timestamp).fromNow()," ",o.a.createElement("br",null),"id: ",o.a.createElement(N,{hash:e.scene.id})))}function F(e){var t=Object(i.a)(G+"entities/scenes?id="+e.scenes.join("&id="),s.a),n=t.data,a=t.error;return o.a.createElement("div",null,o.a.createElement("h3",null,"Last Submitted Scenes"),n&&n.map((function(e){return o.a.createElement(B,{scene:e})})),a&&o.a.createElement(u,{error:a}))}function L(){var e=Object(i.a)(G+"history",s.a).data;return o.a.createElement("div",null,e&&o.a.createElement(F,{scenes:e.events.filter((function(e){return"scene"===e.entityType})).slice(0,10).map((function(e){return e.entityId}))}))}n(282);function T(e){return o.a.createElement("div",{className:"main"},e.children)}function K(e){var t=[["/","","header link","Catalyst Manager"],["/comms","comms","link","Comms"],["/scenes","scenes","link","Scenes"],["/profiles","profiles","link","Profiles"],["/denylist","denylist","link","Denylist"],["/dao","dao","link","DAO"]].map((function(t){return t[0]===e.active&&(t[2]=t[2]+" active"),t}));return o.a.createElement("div",{className:"sidebar"},o.a.createElement("ul",null,t.map((function(t){var n=Object(a.a)(t,4),r=n[0],l=n[1],i=n[2],u=n[3];return o.a.createElement("li",{key:l,className:i,onClick:function(){return[Object(c.navigate)(r),e.setActive(r)]}},u)}))))}var P,R=n(257),J=n(112);function M(){return o.a.createElement("div",null,o.a.createElement("h3",null,"DAO Servers"),o.a.createElement("ul",null,J.a.map((function(e){return o.a.createElement("li",{key:e.domain},o.a.createElement("strong",null,e.domain)," (by ",e.owner,")")}))))}function W(){var e=Object(i.a)(w+"status",s.a).data;return o.a.createElement("div",{className:"catalyst-header"},d.a,e&&": ".concat(e.name))}var G="https://".concat(d.a,"/content/"),U=(P={},Object(r.a)(P,"/",(function(){return o.a.createElement(S,null)})),Object(r.a)(P,"/comms",(function(){return o.a.createElement(j,null)})),Object(r.a)(P,"/scenes",(function(){return o.a.createElement(L,null)})),Object(r.a)(P,"/profiles",(function(){return o.a.createElement(D,null)})),Object(r.a)(P,"/denylist",(function(){return o.a.createElement(R.a,null)})),Object(r.a)(P,"/dao",(function(){return o.a.createElement(M,null)})),P);t.b=function(){var e=Object(l.useState)("/"+window.location.pathname.split("/")[1]),t=Object(a.a)(e,2),n=t[0],r=t[1],i=Object(c.useRoutes)(U);return o.a.createElement("div",{className:"App"},o.a.createElement(K,{active:n,setActive:r}),o.a.createElement(T,null,o.a.createElement(W,null),o.a.createElement("div",{className:"content"},i)))}}},[[266,1,2]]]);
//# sourceMappingURL=main.0d63d7ed.chunk.js.map